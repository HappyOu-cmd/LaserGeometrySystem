# Laser Geometry Measurement System

–°–∏—Å—Ç–µ–º–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –∑–∞–≥–æ—Ç–æ–≤–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º 4 –¥–∞—Ç—á–∏–∫–æ–≤ RF602 –∏ Modbus TCP/RTU —Å–µ—Ä–≤–µ—Ä–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Windows** (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Windows 10/11)
- **Python 3.8+** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Python 3.10 –∏–ª–∏ 3.11)
- **COM –ø–æ—Ä—Ç** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ RF602 (–∏–ª–∏ FTDI –∞–¥–∞–ø—Ç–µ—Ä)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/–≤–∞—à-—é–∑–µ—Ä–Ω–µ–π–º/LaserGeometry.git
   cd LaserGeometry
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   ```bash
   python -m venv venv
   venv\Scripts\activate
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ COM –ø–æ—Ä—Ç:**
   
   –û—Ç–∫—Ä–æ–π—Ç–µ `laser_geometry_system.py` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ —Å—Ç—Ä–æ–∫–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
   ```python
   sensors = HighSpeedRiftekSensor(port='COM7')  # –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à COM –ø–æ—Ä—Ç
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É:**
   ```bash
   python laser_geometry_system.py
   ```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `laser_geometry_system.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–∏—Å—Ç–µ–º—ã
- `modbus_slave_server.py` - Modbus TCP/RTU —Å–µ—Ä–≤–µ—Ä
- `modbus_database_integration.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SQLite –ë–î
- `modbus_debug_gui.py` - GUI –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ Modbus —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
- `main.py` - –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è –¥–∞—Ç—á–∏–∫–æ–≤ RF602
- `requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Modbus TCP Server

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞:
- **–ü–æ—Ä—Ç:** 5020
- **IP:** localhost (127.0.0.1)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `modbus_slave_server.py`.

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: `modbus_registers.db`

–í—Å–µ –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## üìä –ö–æ–º–∞–Ω–¥—ã —Å–∏—Å—Ç–µ–º—ã

- **CMD=100** - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç–µ–Ω–∫–∏
- **CMD=101** - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∏–∂–Ω–µ–π —Å—Ç–µ–Ω–∫–∏
- **CMD=102** - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —Ñ–ª–∞–Ω—Ü–∞
- **CMD=103** - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –≤—ã—Å–æ—Ç—ã
- **CMD=104** - –û—Ç–ª–∞–¥–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
- **CMD=10** - –ù–∞—á–∞–ª–æ —Ü–∏–∫–ª–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π (–≤–µ—Ä—Ö–Ω—è—è —Å—Ç–µ–Ω–∫–∞)
- **CMD=11** - –ü–æ–¥—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–µ—Ä—Ö–Ω–µ–π —Å—Ç–µ–Ω–∫–∏
- **CMD=12** - –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ñ–ª–∞–Ω—Ü–∞
- **CMD=13** - –ü–æ–¥—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ–ª–∞–Ω—Ü–∞
- **CMD=14** - –ò–∑–º–µ—Ä–µ–Ω–∏–µ –Ω–∏–∂–Ω–µ–π —Å—Ç–µ–Ω–∫–∏
- **CMD=15** - –ü–æ–¥—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∏–∂–Ω–µ–π —Å—Ç–µ–Ω–∫–∏
- **CMD=16** - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–¥–µ–ª–∏—è
- **CMD=200-203** - –ü–æ—Ç–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º (–¥–∞—Ç—á–∏–∫–∏ 1-4)

## üìù –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

–í—Å–µ –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å. –î–ª—è GUI –æ—Ç–ª–∞–¥–∫–∏ Modbus —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤:
```bash
python modbus_debug_gui.py
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **COM –ø–æ—Ä—Ç:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ COM –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. **–ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:** –î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
3. **Firewall:** Modbus TCP –ø–æ—Ä—Ç 5020 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∂–∏—Ç–µ –≤–∞—à—É –ª–∏—Ü–µ–Ω–∑–∏—é]

## üë§ –ê–≤—Ç–æ—Ä

[–í–∞—à–µ –∏–º—è]

